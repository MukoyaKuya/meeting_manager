{% extends 'base.html' %}
{% load tz %}

{% block content %}
<div class="container mt-4">
  <div class="text-center mb-5">
    <h2 class="fw-bold">My Dashboard</h2>
    <p class="text-muted">Welcome, {{ user.username|capfirst }} — here’s your meeting summary.</p>
  </div>

  <!-- Stats Cards -->
  <div class="row g-4 justify-content-center">
    <div class="col-md-3">
      <div class="card shadow-sm border-0 text-center">
        <div class="card-body">
          <h6 class="text-secondary">Total Meetings</h6>
          <h3 class="fw-bold text-dark">{{ total_meetings }}</h3>
          <p class="text-muted small mb-0">All meetings created by you</p>
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card shadow-sm border-0 text-center">
        <div class="card-body">
          <h6 class="text-secondary">Upcoming</h6>
          <h3 class="fw-bold text-primary">{{ upcoming_count }}</h3>
          <p class="text-muted small mb-0">Meetings yet to start</p>
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card shadow-sm border-0 text-center">
        <div class="card-body">
          <h6 class="text-secondary">Ongoing</h6>
          <h3 class="fw-bold text-success">{{ ongoing_count }}</h3>
          <p class="text-muted small mb-0">Meetings in progress</p>
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="card shadow-sm border-0 text-center">
        <div class="card-body">
          <h6 class="text-secondary">Ended</h6>
          <h3 class="fw-bold text-danger">{{ ended_count }}</h3>
          <p class="text-muted small mb-0">Past meetings</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="mt-5 text-center">
    <a href="{% url 'create_meeting' %}" class="btn btn-dark me-2">Create Meeting</a>
    <a href="{% url 'meeting_list' %}" class="btn btn-outline-secondary"> View All Meetings</a>
  </div>
</div>
{% endblock %}

{% block footer %}
{% load tz %}
<footer class="text-center text-muted mt-5 mb-3">
  <small>
    &copy; {{ now|localtime|date:"Y" }} Meeting Manager —
    Current time: {{ now|localtime|date:"M d, Y - H:i" }} {{ now|localtime|date:"T" }}
    ({{ TIME_ZONE|default:"Africa/Nairobi" }})
  </small>
</footer>
{% endblock %}
